{"version":3,"sources":["utils/searchHelper.ts","types/Sex.ts","types/SearchPapams.ts","components/SearchLink.tsx","components/LinksForCentury.tsx","components/PeopleFilters.tsx","components/Loader/Loader.tsx","components/PesonLink/PersonLink.tsx","types/SortParams.ts","components/PeopleTable.tsx","api.ts","components/PeoplePage.tsx","components/Navbar.tsx","components/HomePage/HomePage.tsx","components/NotFoundPage/NotFoundPage.tsx","App.tsx","index.tsx"],"names":["getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","value","delete","Array","isArray","part","append","set","Sex","SearchParams","SearchLink","children","params","props","useSearchParams","searchParams","to","search","startedCenturies","LinksForCentury","centuries","getAll","Centuries","className","map","century","ch","includes","filter","cen","classNames","length","PeopleFilters","React","memo","people","onSetFilteredPeople","setSearchParams","query","get","Query","sex","useEffect","person","correctQuery","trim","toLocaleLowerCase","name","motherName","fatherName","undefined","born","bornCentury","Math","ceil","Empty","Male","Female","type","placeholder","onChange","event","target","Loader","PersonLink","died","slug","personLink","useParams","getParentLink","parentName","parent","find","p","pathname","SortParams","PeopleTable","filteredPeople","useState","sortedFilteredPeople","setSortedFilteredPeople","sortParam","Sort","order","Order","handlerSortPeopleBy","sortParams","sort","personA","personB","valueA","valueB","localeCompare","getSearchSortBy","OrderValue","useMemo","sortedPeople","Name","Born","Died","reverse","getSortedPeople","API_URL","wait","delay","Promise","resolve","setTimeout","then","fetch","response","json","PeoplePage","setPeople","errMess","setErrMess","setFilteredPeople","getPeople","peoplefromServer","catch","getClassForLinkPages","isActive","Navbar","role","HomePage","NotFoundPage","App","path","index","element","replace","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.0c701764.chunk.js","sourcesContent":["export type CustomSearchParams = {\n  [key: string]: string | string[] | null,\n};\n\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: CustomSearchParams,\n): string {\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  return newParams.toString();\n}\n","export enum Sex {\n  Empty = '',\n  Male = 'm',\n  Female = 'f',\n}\n","export enum SearchParams {\n  Query = 'query',\n  Sex = 'sex',\n  Centuries = 'centuries',\n  Sort = 'sort',\n  Order = 'order',\n  OrderValue = 'desc',\n}\n","import { Link, LinkProps, useSearchParams } from 'react-router-dom';\nimport { getSearchWith, CustomSearchParams } from '../utils/searchHelper';\n\ntype Props = Omit<LinkProps, 'to'> & {\n  params: CustomSearchParams,\n};\n\nexport const SearchLink: React.FC<Props> = ({\n  children,\n  params,\n  ...props\n}) => {\n  const [searchParams] = useSearchParams();\n\n  return (\n    <Link\n      to={{\n        search: getSearchWith(searchParams, params),\n      }}\n      {...props}\n    >\n      {children}\n    </Link>\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { SearchParams } from '../types/SearchPapams';\nimport { SearchLink } from './SearchLink';\n\nconst startedCenturies = ['16', '17', '18', '19', '20'];\n\nexport const LinksForCentury: React.FC = () => {\n  const [searchParams] = useSearchParams();\n\n  const centuries = searchParams.getAll(SearchParams.Centuries) || [];\n\n  const handlerCenturiesChange = (ch: string) => {\n    if (centuries.includes(ch)) {\n      return { centuries: [...centuries].filter(cen => cen !== ch) || [] };\n    }\n\n    return { centuries: [...centuries, ch] };\n  };\n\n  return (\n    <>\n      <div className=\"level-left\">\n        {startedCenturies.map(century => {\n          const newParams = handlerCenturiesChange(century);\n\n          return (\n            <SearchLink\n              key={`century-${century}`}\n              data-cy=\"century\"\n              className={classNames('button', 'mr-1', {\n                'is-info': centuries.includes(century),\n              })}\n              params={newParams}\n            >\n              {century}\n            </SearchLink>\n          );\n        })}\n      </div>\n\n      <div className=\"level-right ml-4\">\n        <SearchLink\n          data-cy=\"centuryALL\"\n          className={classNames(\n            'button', 'is-success', { 'is-outlined': centuries.length > 0 },\n          )}\n          params={{ centuries: null }}\n        >\n          All\n        </SearchLink>\n      </div>\n    </>\n\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\nimport React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport { Person } from '../types';\nimport { getSearchWith } from '../utils/searchHelper';\nimport { Sex } from '../types/Sex';\nimport { LinksForCentury } from './LinksForCentury';\nimport { SearchParams } from '../types/SearchPapams';\nimport { SearchLink } from './SearchLink';\n\ntype Props = {\n  people: Person[],\n  onSetFilteredPeople: (newPeople: Person[]) => void,\n};\n\nexport const PeopleFilters: React.FC<Props> = React.memo(({\n  people, onSetFilteredPeople,\n}) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get(SearchParams.Query) || '';\n  const centuries = searchParams.getAll(SearchParams.Centuries) || [];\n  const sex = searchParams.get(SearchParams.Sex) || '';\n\n  const getFilteredPeople = () => {\n    return people\n      .filter(person => {\n        const correctQuery = query.trim().toLocaleLowerCase();\n        const { name, motherName, fatherName } = person;\n\n        if (correctQuery) {\n          if (motherName !== null\n            && motherName.toLocaleLowerCase().includes(correctQuery)\n          ) {\n            return true;\n          }\n\n          if (fatherName !== null\n            && fatherName.toLocaleLowerCase().includes(correctQuery)\n          ) {\n            return true;\n          }\n\n          return name.toLocaleLowerCase().includes(correctQuery);\n        }\n\n        return true;\n      })\n      .filter(person => {\n        if (sex) {\n          return person.sex === sex;\n        }\n\n        return true;\n      })\n      .filter(person => {\n        if (centuries !== undefined && centuries.length > 0) {\n          const { born } = person;\n          const bornCentury = Math.ceil(+born / 100);\n\n          return centuries.includes(bornCentury.toString());\n        }\n\n        return true;\n      });\n  };\n\n  const handlerQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newParams = { query: event.target.value || null };\n\n    setSearchParams(getSearchWith(searchParams, newParams));\n  };\n\n  useEffect(() => {\n    onSetFilteredPeople(getFilteredPeople());\n  }, [searchParams]);\n\n  return (\n    <nav className=\"panel\">\n      <p className=\"panel-heading\">Filters</p>\n\n      <p className=\"panel-tabs\" data-cy=\"SexFilter\">\n        <SearchLink\n          className={classNames({ 'is-active': sex === Sex.Empty })}\n          params={{ sex: null }}\n        >\n          All\n        </SearchLink>\n\n        <SearchLink\n          className={classNames({ 'is-active': sex === Sex.Male })}\n          params={{ sex: Sex.Male }}\n        >\n          Male\n        </SearchLink>\n\n        <SearchLink\n          className={classNames({ 'is-active': sex === Sex.Female })}\n          params={{ sex: Sex.Female }}\n        >\n          Female\n        </SearchLink>\n      </p>\n\n      <div className=\"panel-block\">\n        <p className=\"control has-icons-left\">\n          <input\n            data-cy=\"NameFilter\"\n            type=\"search\"\n            className=\"input\"\n            placeholder=\"Search\"\n            value={query}\n            onChange={handlerQueryChange}\n          />\n\n          <span className=\"icon is-left\">\n            <i className=\"fas fa-search\" aria-hidden=\"true\" />\n          </span>\n        </p>\n      </div>\n\n      <div className=\"panel-block\">\n        <div className=\"level is-flex-grow-1 is-mobile\" data-cy=\"CenturyFilter\">\n          <LinksForCentury />\n        </div>\n      </div>\n\n      <div className=\"panel-block\">\n        <SearchLink\n          className=\"button is-link is-outlined is-fullwidth\"\n          params={{ sex: null, centuries: null, query: null }}\n        >\n          Reset all filters\n        </SearchLink>\n      </div>\n    </nav>\n  );\n});\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Link, useParams, useSearchParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Person } from '../../types';\nimport { Sex } from '../../types/Sex';\n\ntype Props = {\n  people: Person[]\n  person: Person,\n};\n\nexport const PersonLink: React.FC<Props> = ({ person, people }) => {\n  const {\n    name,\n    sex,\n    born,\n    died,\n    fatherName,\n    motherName,\n    slug,\n  } = person;\n\n  const { personLink } = useParams();\n  const [searchParams] = useSearchParams();\n\n  const getParentLink = (parentName: string | null) => {\n    const parent = people.find(p => p.name === parentName);\n\n    if (parent) {\n      return (\n        <Link\n          to={{\n            pathname: `/people/${parent.slug}`,\n            search: searchParams.toString(),\n          }}\n          className={classNames(\n            { 'has-text-danger': parent.sex === Sex.Female },\n          )}\n        >\n          {parent.name}\n        </Link>\n      );\n    }\n\n    return parentName || '-';\n  };\n\n  return (\n    <tr\n      data-cy=\"person\"\n      className={classNames(\n        { 'has-background-warning': slug === personLink },\n      )}\n    >\n      <td>\n        <Link\n          to={{\n            pathname: `/people/${slug}`,\n            search: searchParams.toString(),\n          }}\n          className={classNames(\n            { 'has-text-danger': sex === Sex.Female },\n          )}\n        >\n          {name}\n        </Link>\n      </td>\n\n      <td>{sex}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      <td>\n        {getParentLink(motherName)}\n      </td>\n      <td>\n        {getParentLink(fatherName)}\n      </td>\n    </tr>\n  );\n};\n","export enum SortParams {\n  Name = 'name',\n  Sex = 'sex',\n  Born = 'born',\n  Died = 'died',\n}\n","import classNames from 'classnames';\nimport { useSearchParams } from 'react-router-dom';\nimport React, { useMemo, useState } from 'react';\nimport { Person } from '../types';\nimport { PersonLink } from './PesonLink';\nimport { SortParams } from '../types/SortParams';\nimport { SearchParams } from '../types/SearchPapams';\nimport { SearchLink } from './SearchLink';\n\ntype Props = {\n  people: Person[],\n  filteredPeople: Person[],\n};\n\nexport const PeopleTable: React.FC<Props> = ({\n  people, filteredPeople,\n}) => {\n  const [\n    sortedFilteredPeople, setSortedFilteredPeople,\n  ] = useState<Person[]>(filteredPeople);\n\n  const [searchParams] = useSearchParams();\n\n  const sortParam = searchParams.get(SearchParams.Sort) || '';\n  const order = searchParams.get(SearchParams.Order) || '';\n\n  const handlerSortPeopleBy = (sortParams: SortParams) => {\n    return [...filteredPeople].sort((personA, personB) => {\n      if (typeof personA[sortParams] === 'string') {\n        const valueA = personA[sortParams].toString();\n        const valueB = personB[sortParams].toString();\n\n        return valueA.localeCompare(valueB);\n      }\n\n      const valueA = +personA[sortParams];\n      const valueB = +personB[sortParams];\n\n      return valueA - valueB;\n    });\n  };\n\n  const getSortedPeople = () => {\n    let sortedPeople = filteredPeople;\n\n    if (sortParam) {\n      switch (sortParam) {\n        case SortParams.Name:\n          sortedPeople = handlerSortPeopleBy(SortParams.Name);\n          break;\n\n        case SortParams.Sex:\n          sortedPeople = handlerSortPeopleBy(SortParams.Sex);\n          break;\n\n        case SortParams.Born:\n          sortedPeople = handlerSortPeopleBy(SortParams.Born);\n          break;\n\n        case SortParams.Died:\n          sortedPeople = handlerSortPeopleBy(SortParams.Died);\n          break;\n\n        default:\n          sortedPeople = filteredPeople;\n      }\n\n      return order ? sortedPeople.reverse() : sortedPeople;\n    }\n\n    return sortedPeople;\n  };\n\n  const getSearchSortBy = (key: string) => {\n    if (sortParam !== key) {\n      return { sort: key, order: null };\n    }\n\n    return (!order)\n      ? { sort: key, order: SearchParams.OrderValue }\n      : { sort: null, order: null };\n  };\n\n  useMemo(() => {\n    setSortedFilteredPeople(getSortedPeople());\n  }, [searchParams, filteredPeople]);\n\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>\n            <span className=\"is-flex is-flex-wrap-no-wrap\">\n              Name\n              <SearchLink\n                params={getSearchSortBy(SortParams.Name)}\n              >\n                <span className=\"icon\">\n                  <i className={classNames(\n                    'fas',\n                    { 'fa-sort': sortParam !== SortParams.Name },\n                    { 'fa-sort-up': sortParam === SortParams.Name && !order },\n                    { 'fa-sort-down': sortParam === SortParams.Name && order },\n                  )}\n                  />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-no-wrap\">\n              Sex\n              <SearchLink\n                params={getSearchSortBy(SortParams.Sex)}\n              >\n                <span className=\"icon\">\n                  <i className={classNames(\n                    'fas',\n                    { 'fa-sort': sortParam !== SortParams.Sex },\n                    { 'fa-sort-up': sortParam === SortParams.Sex && !order },\n                    { 'fa-sort-down': sortParam === SortParams.Sex && order },\n                  )}\n                  />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-no-wrap\">\n              Born\n              <SearchLink\n                params={getSearchSortBy(SortParams.Born)}\n              >\n                <span className=\"icon\">\n                  <i className={classNames(\n                    'fas',\n                    { 'fa-sort': sortParam !== SortParams.Born },\n                    { 'fa-sort-up': sortParam === SortParams.Born && !order },\n                    { 'fa-sort-down': sortParam === SortParams.Born && order },\n                  )}\n                  />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-no-wrap\">\n              Died\n              <SearchLink\n                params={getSearchSortBy(SortParams.Died)}\n              >\n                <span className=\"icon\">\n                  <i className={classNames(\n                    'fas',\n                    { 'fa-sort': sortParam !== SortParams.Died },\n                    { 'fa-sort-up': sortParam === SortParams.Died && !order },\n                    { 'fa-sort-down': sortParam === SortParams.Died && order },\n                  )}\n                  />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {sortedFilteredPeople.map(person => (\n          <PersonLink\n            key={person.slug}\n            people={people}\n            person={person}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport async function getPeople(): Promise<Person[]> {\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import { useEffect, useState } from 'react';\nimport { PeopleFilters } from './PeopleFilters';\nimport { Loader } from './Loader';\nimport { PeopleTable } from './PeopleTable';\nimport { getPeople } from '../api';\nimport { Person } from '../types';\n\nexport const PeoplePage = () => {\n  const [people, setPeople] = useState<Person[] | null>(null);\n  const [errMess, setErrMess] = useState<boolean>(false);\n  const [filteredPeople, setFilteredPeople] = useState<Person[]>([]);\n\n  useEffect(() => {\n    getPeople()\n      .then((peoplefromServer => {\n        setPeople(peoplefromServer);\n        setFilteredPeople(peoplefromServer);\n      }))\n      .catch(() => {\n        setErrMess(true);\n      });\n  }, []);\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"columns is-desktop is-flex-direction-row-reverse\">\n          <div className=\"column is-7-tablet is-narrow-desktop\">\n            {people !== null && people.length > 0 && (\n              <PeopleFilters\n                people={people}\n                onSetFilteredPeople={setFilteredPeople}\n              />\n            )}\n          </div>\n\n          <div className=\"column\">\n            <div className=\"box table-container\">\n              {!people && !errMess && (<Loader />)}\n              {!!people && filteredPeople.length > 0 && (\n                <PeopleTable\n                  people={people}\n                  filteredPeople={filteredPeople}\n                />\n              )}\n\n              {errMess && (\n                <p data-cy=\"peopleLoadingError\">\n                  Something went wrong\n                </p>\n              )}\n\n              {!!people && !people.length && (\n                <p data-cy=\"noPeopleMessage\">\n                  There are no people on the server\n                </p>\n              )}\n\n              {!!people && !filteredPeople.length && (\n                <p>There are no people matching the current search criteria</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nconst getClassForLinkPages = ({ isActive }: { isActive: boolean }) => {\n  return classNames('navbar-item', { 'has-background-grey-lighter': isActive });\n};\n\nexport const Navbar = () => {\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink to=\"/\" className={getClassForLinkPages}>Home</NavLink>\n          <NavLink\n            aria-current=\"page\"\n            to=\"/people\"\n            className={getClassForLinkPages}\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","export const HomePage = () => (\n  <h1 className=\"title\">Home Page</h1>\n);\n","export const NotFoundPage = () => (\n  <h1 className=\"title\">Page not found</h1>\n);\n","import {\n  Routes, Route, Navigate,\n} from 'react-router-dom';\nimport { PeoplePage } from './components/PeoplePage';\nimport { Navbar } from './components/Navbar';\n\nimport './App.scss';\nimport { HomePage } from './components/HomePage';\nimport { NotFoundPage } from './components/NotFoundPage';\n\nexport const App = () => {\n  return (\n    <div data-cy=\"app\">\n      <Navbar />\n\n      <div className=\"section\">\n        <div className=\"container\">\n          <Routes>\n            <Route path=\"/\">\n              <Route index element={<HomePage />} />\n              <Route path=\"/home\" element={<Navigate to=\"/\" replace />} />\n\n              <Route path=\"people\">\n                <Route index element={<PeoplePage />} />\n                <Route path=\":personLink\" element={<PeoplePage />} />\n              </Route>\n\n              <Route path=\"*\" element={<NotFoundPage />} />\n            </Route>\n          </Routes>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}